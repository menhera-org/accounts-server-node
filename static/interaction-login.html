<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Login</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="/assets/main.css">
  </head>
  <body>
    <h1>Login</h1>
    <p id="error"></p>
    <form id="login_form" action="#" method="POST">
      <p>Username: <input name="username" type="text"></p>
      <p>Password: <input name="password" type="password"></p>
      <p><button type="submit">Log in</button></p>
    </form>
    <script defer>
      const path = location.pathname;
      const matches = path.match(/\/interaction\/([^/]+)$/);
      if (matches && matches[1]) {
        const loginForm = document.getElementById('login_form');
        loginForm.action = `/interaction/${matches[1]}/login`;
      }
    </script>
  </body>
</html>
